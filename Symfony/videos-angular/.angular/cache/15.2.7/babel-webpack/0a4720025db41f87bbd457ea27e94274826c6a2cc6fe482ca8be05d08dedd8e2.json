{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service';\nimport { VideoService } from 'src/app/services/video.service';\nlet HomeComponent = class HomeComponent {\n  constructor(_userService, _videoService) {\n    this._userService = _userService;\n    this._videoService = _videoService;\n    this.page_title = \"Mis videos\";\n    this.status = '';\n    this.videos = [];\n  }\n  ngOnInit() {\n    this.loadUser();\n    this.getVideos();\n  }\n  ngDoCheck() {\n    console.log('HomeComponent Cargado!');\n    this.loadUser();\n  }\n  loadUser() {\n    this.identity = this._userService.getIdentity();\n    this.token = this._userService.getToken();\n  }\n  getVideos() {\n    this._videoService.getVideos(this.token).subscribe(response => {\n      this.videos = response.pagination;\n      console.log(this.videos);\n    }, error => {\n      this.status = 'error';\n      console.log(error);\n    });\n  }\n  getThumb(url, size) {\n    var video, results, thumburl;\n    if (url === null) {\n      return '';\n    }\n    results = url.match('[\\\\?&]v=([^&#]*)');\n    video = results === null ? url : results[1];\n    if (size != null) {\n      thumburl = 'http://img.youtube.com/vi/' + video + '/' + size + '.jpg';\n    } else {\n      thumburl = 'http://img.youtube.com/vi/' + video + '/mqdefault.jpg';\n    }\n    return thumburl;\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  providers: [UserService, VideoService]\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,WAAW,QAAQ,+BAA+B;AAC3D,SAASC,YAAY,QAAQ,gCAAgC;AAQtD,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAQxBC,YACUC,YAAyB,EACzBC,aAA2B;IAD3B,iBAAY,GAAZD,YAAY;IACZ,kBAAa,GAAbC,aAAa;IAErB,IAAI,CAACC,UAAU,GAAG,YAAY;IAC9B,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,MAAM,GAAG,EAAE;EAClB;EAEAC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAC,SAAS;IACPC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrC,IAAI,CAACJ,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACK,QAAQ,GAAG,IAAI,CAACX,YAAY,CAACY,WAAW,EAAE;IAC/C,IAAI,CAACC,KAAK,GAAG,IAAI,CAACb,YAAY,CAACc,QAAQ,EAAE;EAC3C;EAEAP,SAAS;IACL,IAAI,CAACN,aAAa,CAACM,SAAS,CAAC,IAAI,CAACM,KAAK,CAAC,CAACE,SAAS,CAChDC,QAAQ,IAAG;MACT,IAAI,CAACZ,MAAM,GAAGY,QAAQ,CAACC,UAAU;MACjCR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,MAAM,CAAC;IAC1B,CAAC,EACDc,KAAK,IAAG;MACN,IAAI,CAACf,MAAM,GAAG,OAAO;MACrBM,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;IACpB,CAAC,CACF;EACL;EAEAC,QAAQ,CAACC,GAAO,EAAEC,IAAQ;IACxB,IAAIC,KAAK,EAAEC,OAAO,EAAEC,QAAQ;IAE3B,IAAIJ,GAAG,KAAK,IAAI,EAAE;MACd,OAAO,EAAE;;IAGbG,OAAO,GAAGH,GAAG,CAACK,KAAK,CAAC,kBAAkB,CAAC;IACvCH,KAAK,GAAMC,OAAO,KAAK,IAAI,GAAIH,GAAG,GAAGG,OAAO,CAAC,CAAC,CAAC;IAE/C,IAAGF,IAAI,IAAI,IAAI,EAAE;MACbG,QAAQ,GAAG,4BAA4B,GAAGF,KAAK,GAAG,GAAG,GAAED,IAAI,GAAE,MAAM;KACtE,MAAI;MACDG,QAAQ,GAAG,4BAA4B,GAAGF,KAAK,GAAG,gBAAgB;;IAGrE,OAAOE,QAAQ;EAEnB;CAGD;AAlEY1B,aAAa,eANzBH,SAAS,CAAC;EACT+B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB,CAAC;EACnCC,SAAS,EAAE,CAACjC,WAAW,EAAEC,YAAY;CACtC,CAAC,GACWC,aAAa,CAkEzB;SAlEYA,aAAa","names":["Component","UserService","VideoService","HomeComponent","constructor","_userService","_videoService","page_title","status","videos","ngOnInit","loadUser","getVideos","ngDoCheck","console","log","identity","getIdentity","token","getToken","subscribe","response","pagination","error","getThumb","url","size","video","results","thumburl","match","selector","templateUrl","styleUrls","providers"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\Full-Stack\\Symfony\\videos-angular\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service'; \nimport { VideoService } from 'src/app/services/video.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  providers: [UserService, VideoService]\n})\nexport class HomeComponent implements OnInit{\n\n  public page_title: string;\n  public identity: any;\n  public token: any;\n  public videos: any[];\n  public status: any;\n\n  constructor(\n    private _userService: UserService,\n    private _videoService: VideoService\n  ){\n    this.page_title = \"Mis videos\";\n    this.status = '';\n    this.videos = [];\n  }\n\n  ngOnInit(){\n    this.loadUser();\n    this.getVideos();\n  }\n\n  ngDoCheck(): void {\n    console.log('HomeComponent Cargado!');\n    this.loadUser();\n  }\n\n  loadUser(){\n    this.identity = this._userService.getIdentity();\n    this.token = this._userService.getToken();\n  }\n\n  getVideos(){\n      this._videoService.getVideos(this.token).subscribe(\n        response =>{\n          this.videos = response.pagination;   \n          console.log(this.videos);         \n        },\n        error =>{\n          this.status = 'error';\n          console.log(error);\n        }\n      );\n  }\n\n  getThumb(url:any, size:any) {\n    var video, results, thumburl;\n    \n     if (url === null) {\n         return '';\n     }\n     \n     results = url.match('[\\\\?&]v=([^&#]*)');\n     video   = (results === null) ? url : results[1];\n    \n     if(size != null) {\n         thumburl = 'http://img.youtube.com/vi/' + video + '/'+ size +'.jpg';\n     }else{\n         thumburl = 'http://img.youtube.com/vi/' + video + '/mqdefault.jpg';\n     }\n    \n      return thumburl;\n        \n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}